{"ast":null,"code":"var _jsxFileName = \"/Users/0x4ry4n/Desktop/Dev/melodet-frontend/src/components/predictButton/PredictButton.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport './PredictButton.css';\nimport FileContext from \"../contexts/FileContext\";\nimport Loader from '../loader/Loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PredictButton = () => {\n  _s();\n  const selectedFile = useContext(FileContext);\n  const [pred, setPred] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const handleUpload = async () => {\n    const formData = new FormData();\n    formData.append(\"file\", selectedFile, selectedFile.name);\n    console.log(formData);\n    console.log(selectedFile.name);\n    const requestOptions = {\n      method: 'POST',\n      body: formData,\n      mode: 'no-cors'\n    };\n    await fetch('https://a82d-35-238-228-187.ngrok.io/uploadfile', requestOptions);\n    // const data = await resp.json();\n  };\n\n  const handlePredict = async () => {\n    setLoading(true);\n    await handleUpload();\n    const requestOptions = {\n      method: 'GET',\n      mode: 'no-cors'\n    };\n    const resp = await fetch(`https://a82d-35-238-228-187.ngrok.io/predict/?filename=${selectedFile.name}`, requestOptions);\n    const data = await resp.json();\n    setPred(data[\"Prediction\"]);\n    console.log(data);\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"predict-button\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"predict-button-button\",\n      onClick: handlePredict,\n      children: \"Predict!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pred\",\n      children: [loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 28\n      }, this) : null, pred === null ? null : pred === 6 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"detected\",\n        children: \"Prediction: Melanoma Detected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 53\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-detected\",\n        children: \"Prediction: No Melanoma Detected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 117\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(PredictButton, \"Mn1YznzWYrT/g/9CTKjxhZYChfk=\");\n_c = PredictButton;\nexport default PredictButton;\nvar _c;\n$RefreshReg$(_c, \"PredictButton\");","map":{"version":3,"names":["React","useContext","useState","FileContext","Loader","PredictButton","selectedFile","pred","setPred","loading","setLoading","handleUpload","formData","FormData","append","name","console","log","requestOptions","method","body","mode","fetch","handlePredict","resp","data","json"],"sources":["/Users/0x4ry4n/Desktop/Dev/melodet-frontend/src/components/predictButton/PredictButton.jsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport './PredictButton.css';\nimport FileContext from \"../contexts/FileContext\";\nimport Loader from '../loader/Loader'\n\n\nconst PredictButton = () => {\n    const selectedFile = useContext(FileContext);\n    const [pred, setPred] = useState(null);\n    const [loading, setLoading] = useState(false);\n\n    const handleUpload = async () => {\n        const formData = new FormData();\n        formData.append(\"file\", selectedFile, selectedFile.name);\n        console.log(formData);\n        console.log(selectedFile.name);\n\n        const requestOptions = {\n            method: 'POST',\n            body: formData,\n            mode: 'no-cors'\n        };\n        await fetch('https://a82d-35-238-228-187.ngrok.io/uploadfile', requestOptions);\n        // const data = await resp.json();\n    }\n    const handlePredict = async () => {\n        setLoading(true);\n        await handleUpload();\n        const requestOptions = {\n            method: 'GET',\n            mode: 'no-cors'\n        };\n        const resp = await fetch(`https://a82d-35-238-228-187.ngrok.io/predict/?filename=${selectedFile.name}`, requestOptions);\n        const data = await resp.json();\n        setPred(data[\"Prediction\"]);\n        console.log(data);\n        setLoading(false);\n    }\n    return (\n        <div className=\"predict-button\">\n            <button className=\"predict-button-button\" onClick={handlePredict}>Predict!</button>\n            {/* {Object.entries(pred).map(([key, value]) => (\n                <div key={key}>{key}: {value}</div>\n            ))} */}\n            <div className=\"pred\">\n                {/* {pred} */}\n                {/* <Loader /> */}\n                {loading ? <Loader /> : null}\n                {pred===null ? null : (pred === 6 ? <div className=\"detected\">Prediction: Melanoma Detected</div> : <div className=\"no-detected\">Prediction: No Melanoma Detected</div>)}\n            </div>\n            {/* <div className=\"\">\n                {selectedFile}\n            </div> */}\n        </div>\n    )\n}\n\nexport default PredictButton;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AACnD,OAAO,qBAAqB;AAC5B,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,MAAM,MAAM,kBAAkB;AAAA;AAGrC,MAAMC,aAAa,GAAG,MAAM;EAAA;EACxB,MAAMC,YAAY,GAAGL,UAAU,CAACE,WAAW,CAAC;EAC5C,MAAM,CAACI,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMS,YAAY,GAAG,YAAY;IAC7B,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAER,YAAY,EAAEA,YAAY,CAACS,IAAI,CAAC;IACxDC,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;IACrBI,OAAO,CAACC,GAAG,CAACX,YAAY,CAACS,IAAI,CAAC;IAE9B,MAAMG,cAAc,GAAG;MACnBC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAER,QAAQ;MACdS,IAAI,EAAE;IACV,CAAC;IACD,MAAMC,KAAK,CAAC,iDAAiD,EAAEJ,cAAc,CAAC;IAC9E;EACJ,CAAC;;EACD,MAAMK,aAAa,GAAG,YAAY;IAC9Bb,UAAU,CAAC,IAAI,CAAC;IAChB,MAAMC,YAAY,EAAE;IACpB,MAAMO,cAAc,GAAG;MACnBC,MAAM,EAAE,KAAK;MACbE,IAAI,EAAE;IACV,CAAC;IACD,MAAMG,IAAI,GAAG,MAAMF,KAAK,CAAE,0DAAyDhB,YAAY,CAACS,IAAK,EAAC,EAAEG,cAAc,CAAC;IACvH,MAAMO,IAAI,GAAG,MAAMD,IAAI,CAACE,IAAI,EAAE;IAC9BlB,OAAO,CAACiB,IAAI,CAAC,YAAY,CAAC,CAAC;IAC3BT,OAAO,CAACC,GAAG,CAACQ,IAAI,CAAC;IACjBf,UAAU,CAAC,KAAK,CAAC;EACrB,CAAC;EACD,oBACI;IAAK,SAAS,EAAC,gBAAgB;IAAA,wBAC3B;MAAQ,SAAS,EAAC,uBAAuB;MAAC,OAAO,EAAEa,aAAc;MAAA,UAAC;IAAQ;MAAA;MAAA;MAAA;IAAA,QAAS,eAInF;MAAK,SAAS,EAAC,MAAM;MAAA,WAGhBd,OAAO,gBAAG,QAAC,MAAM;QAAA;QAAA;QAAA;MAAA,QAAG,GAAG,IAAI,EAC3BF,IAAI,KAAG,IAAI,GAAG,IAAI,GAAIA,IAAI,KAAK,CAAC,gBAAG;QAAK,SAAS,EAAC,UAAU;QAAA,UAAC;MAA6B;QAAA;QAAA;QAAA;MAAA,QAAM,gBAAG;QAAK,SAAS,EAAC,aAAa;QAAA,UAAC;MAAgC;QAAA;QAAA;QAAA;MAAA,QAAO;IAAA;MAAA;MAAA;MAAA;IAAA,QACtK;EAAA;IAAA;IAAA;IAAA;EAAA,QAIJ;AAEd,CAAC;AAAA,GAjDKF,aAAa;AAAA,KAAbA,aAAa;AAmDnB,eAAeA,aAAa;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}